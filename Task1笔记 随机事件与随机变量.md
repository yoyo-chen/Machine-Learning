### 理论部分

#### 1. 随机事件

##### 1.1 基本概念：随机事件，样本空间等

##### 1.2 概率

##### 1.3 古典概型

##### 1.4 条件概率

* 条件概率： 
  $P(A|B) =  \frac {P(AB)}  {P(B)} $ 

##### 1.5 全概率公式和贝叶斯公式

* 全概率公式： 
  $P(A) = \sum_{i=1}^{\infty } {P(B_i)}P(A|B_i)$ 
* 贝叶斯公式：
  $P(B_i|A) =\frac {P(B_i A)}  {P(A)}  =  \frac {P(A|B_i )P(B_i)}  {\sum_{j=1}^{\infty }P( B_j)P(A|B_j)}  ,i=1,2,... $ 
* 先验概率： 
  $P(B_i)(i=1,2,...)$
* 后验概率： 
  $P(B_i|A)（i=1,2,...）$ 当结果为A时Bi发生的概率

#### 2. 随机变量

##### 2.1 随机变量及其分布

##### 2.2 离散型随机变量

##### 2.3 常见的离散型分布

* 伯努利分布/二项分布：

$$
P(A_k） =C^k_np^k(1-p)^{n-k},k=0,1,2,...n.
$$

##### 2.4 随机变量的数字特征

###### 2.4.1 数学期望

* 若 $X, Y$ 相互独立，则$E(XY) = E(X)E(Y)$

###### 2.4.2 方差 

$$
Var （X） =E\{  [X-E(X)]^2\} 
$$
* 若 $X, Y$ 相互独立，则$Var(X+Y) = Var(X) +Var(Y)$ 

###### 2.4.3 协方差和相关系数(线性相关，皮尔逊相关系数)

* 协方差：

$$
Cov(X, Y) = E\{  [X-E(X)] [Y-E(Y)]\}
$$
* 若 $X, Y$ 相互独立，则$Cov(X，Y) = 0$

* 皮尔逊相关系数：

$$
\rho（X,Y） = \frac{Cov(X，Y)}{\sqrt {Var(X)} \sqrt {Var(Y)}}
$$
* 相关系数在-1到1之间，绝对值 $|\rho（X,Y）|$ 表示$X,Y$之间的线性相关程度。越接近1，相关度越大。小于零表示负相关，大于零表示正相关。

* 重要数学特性：两个变量的位置和尺度的变化并不会引起该系数的改变。
  $$
  \rho (X,Y)=\rho(a+bX,c+dY)
  $$

* 相关系数与两条回归线夹角的余弦值一致。



### 练习部分

###### python实现二项分布，协方差和相关系数以及贝叶斯公式

##### 练习1.1 二项分布

```python
#我们采用函数的递归的方法计算阶乘：
def factorial(m):
    if m == 0:
        return 1;
    else:
        return (m*factorial(m-1))
    
print("计算n重Bernoulli试验中概率为p的事件A出现a次的概率")
#print("Bernoulli试验次数为")
#n = int(input())
#print("事件A出现的概率为")
#p = float(input())
#print("A出现的次数为")
#a = int(input())
n = 4
a = 4
p = 0.5
n_fac = factorial(n); 
a_fac = factorial(a);
x=n-a;
x_fac = factorial(x);
Ber = n_fac/a_fac/x_fac*p**a*(1-p)**(n-a);

print(str(n)+"重Bernolli试验中概率为"+str(p)+"的事件A出现"+str(a)+"次的概率为：",Ber)
```



##### 练习1.2 协方差和相关系数

```python
import math
import numpy as np

x = np.array([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, \
     11, 12, 13, 14, 15, 16, 17, 18, 19, 20, \
     21, 22, 23, 24, 25, 26, 27, 28, 29, 30, \
     31, 32, 33, 34, 35, 36, 37, 38, 39, 40, \
     41, 42, 43, 44, 45, 46, 47, 48, 49, 50, \
     51, 52, 53, 54, 55, 56, 57, 58, 59, 60, \
     61, 62, 63, 64, 65, 66, 67, 68, 69, 70, \
     71, 72, 73, 74, 75, 76, 77, 78, 79, 80, \
     81, 82, 83, 84, 85, 86, 87, 88, 89, 90, \
     91, 92, 93, 94, 95, 96, 97, 98, 99, 100])

y = np.array([0.8415, 0.9093, 0.1411, -0.7568, -0.9589, -0.2794, \
              0.6570, 0.9894, 0.4121, -0.5440, -1.0000, -0.5366, \
              0.4202, 0.9906, 0.6503, -0.2879, -0.9614, -0.7510, \
              0.1499, 0.9129, 0.8367, -0.0089, -0.8462, -0.9056, \
              -0.1324, 0.7626, 0.9564, 0.2709, -0.6636, -0.9880, \
              -0.4040, 0.5514, 0.9999, 0.5291, -0.4282, -0.9918, \
              -0.6435, 0.2964, 0.9638, 0.7451, -0.1586, -0.9165, \
              -0.8318, 0.0177, 0.8509, 0.9018, 0.1236, -0.7683, \
              -0.9538, -0.2624, 0.6702, 0.9866, 0.3959, -0.5588, \
              -0.9998, -0.5216, 0.4362, 0.9929, 0.6367, -0.3048, \
              -0.9661, -0.7392, 0.1674, 0.9200, 0.8268, -0.0266, \
              -0.8555, -0.8979, -0.1148, 0.7739, 0.9511, 0.2538, \
              -0.6768, -0.9851, -0.3878, 0.5661, 0.9995, 0.5140, \
              -0.4441, -0.9939, -0.6299, 0.3132, 0.9684, 0.7332, \
              -0.1761, -0.9235, -0.8218, 0.0354, 0.8601, 0.8940, \
              0.1060, -0.7795, -0.9483, -0.2453, 0.6833, 0.9836, \
              0.3796, -0.5734, -0.9992, -0.5064,])
Ex = np.average(x)
Ey = np.average(y)
Varx = np.var(x)
Vary = np.var(y)
Covxy = np.cov(x,y)
Rho = Covxy[0,1]/math.sqrt(Varx)/math.sqrt(Vary)
print("协方差为：",Covxy[0,1])
print("相关系数为：",Rho)
```



##### 练习1.3 贝叶斯公式

```python
import numpy as np

n = 2
m = 1
# B0：肝癌患者; B1：非肝癌患者
# P(A|B_i) = [0.95, 0.1] 肝癌患者阳性概率 0.95，非肝癌患者阳性概率 0.1
Patb = np.array([0.95, 0.1])
# P(B_i) = [0.0004, 0.9996] 肝癌患者概率 0.0004，非肝癌患者概率 0.9996
Pb = np.array([0.0004, 0.9996])

Pabm = Patb[m-1]*Pb[m-1]

Pa = 0
for i in range(n):
    Pa = Pa + Patb[i]*Pb[i]

P = Pabm/Pa
print("P(B_m|A)为：",P)
```



#### 以上 

#### 2020.06.22

